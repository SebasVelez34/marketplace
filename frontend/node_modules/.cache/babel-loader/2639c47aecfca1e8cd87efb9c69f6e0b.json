{"ast":null,"code":"import React,{useEffect}from'react';import{addToCart,removeFromCart}from'../../actions/cartActions';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';function CartScreen(props){var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;var productId=props.match.params.id;var dispatch=useDispatch();var removeFromCartHandler=function removeFromCartHandler(productId){dispatch(removeFromCart(productId));};useEffect(function(){if(productId){dispatch(addToCart(productId));}},[]);console.log(cartItems);return/*#__PURE__*/React.createElement(\"div\",{class:\"wrap cf\"},/*#__PURE__*/React.createElement(\"h1\",{class:\"projTitle\"},\"Shopping Cart\"),/*#__PURE__*/React.createElement(\"div\",{class:\"heading cf\"},/*#__PURE__*/React.createElement(\"h1\",null,\"My Cart\"),/*#__PURE__*/React.createElement(Link,{to:'/',className:\"btn\"},\"Continue Shopping\")),/*#__PURE__*/React.createElement(\"div\",{class:\"cart\"},/*#__PURE__*/React.createElement(\"ul\",{class:\"cartWrap\"},cartItems.length===0?/*#__PURE__*/React.createElement(\"div\",null,\"Cart is empty\"):cartItems.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{className:\"items odd\",key:item.product},/*#__PURE__*/React.createElement(\"div\",{className:\"infoWrap\"},/*#__PURE__*/React.createElement(\"li\",{className:\"items even\"},/*#__PURE__*/React.createElement(\"div\",{className:\"infoWrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cartSection\"},/*#__PURE__*/React.createElement(\"img\",{src:item.image,alt:\"\",className:\"itemImg\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"itemNumber\"},\"Product ID: \",item.product),/*#__PURE__*/React.createElement(Link,{to:\"/product/\".concat(item.product)},/*#__PURE__*/React.createElement(\"h3\",null,item.name))),/*#__PURE__*/React.createElement(\"div\",{className:\"prodTotal cartSection\"},/*#__PURE__*/React.createElement(\"p\",null,\"Price: $\",item.price)),/*#__PURE__*/React.createElement(\"div\",{className:\"cartSection removeWrap\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"remove\",onClick:function onClick(){return removeFromCartHandler(item.product);}},/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"remove\"},\"x\")))))));})),/*#__PURE__*/React.createElement(\"div\",{class:\"subtotal cf\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{class:\"totalRow final\"},/*#__PURE__*/React.createElement(\"span\",{class:\"label\"},\"Total ( \",cartItems.length,\" item(s) )\"),/*#__PURE__*/React.createElement(\"span\",{class:\"value\"},\"$\",cartItems.reduce(function(a,b){return a+b.price;},0)))))));}export default CartScreen;","map":{"version":3,"sources":["D:/Development_Projects/marketplace/frontend/src/screens/CartScreen/CartScreen.js"],"names":["React","useEffect","addToCart","removeFromCart","useDispatch","useSelector","Link","CartScreen","props","cart","state","cartItems","productId","match","params","id","dispatch","removeFromCartHandler","console","log","length","map","item","product","image","name","price","reduce","a","b"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { addToCart, removeFromCart } from '../../actions/cartActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nfunction CartScreen(props) {\r\n\r\n\tconst cart = useSelector( state => state.cart );\r\n\tconst { cartItems } = cart;\r\n  \tconst productId = props.match.params.id;\r\n\tconst dispatch = useDispatch();\r\n\tconst removeFromCartHandler = (productId) =>{\r\n\t\tdispatch(removeFromCart(productId));\r\n\t}\r\n\tuseEffect(()=>{\r\n\t\tif(productId){\r\n\t\tdispatch(addToCart(productId));\r\n\t\t}\r\n\t}, []);\r\n\tconsole.log(cartItems);\r\n\treturn (\r\n\t\t<div class=\"wrap cf\">\r\n\t\t\t<h1 class=\"projTitle\">Shopping Cart</h1>\r\n\t\t\t<div class=\"heading cf\">\r\n\t\t\t\t<h1>My Cart</h1>\r\n\t\t\t\t<Link to={'/'} className=\"btn\">Continue Shopping</Link>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"cart\">\r\n\t\t\t\t<ul class=\"cartWrap\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcartItems.length === 0 ?<div>Cart is empty</div>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tcartItems.map( item =>{\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<li className=\"items odd\" key={item.product}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"infoWrap\">\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"items even\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"infoWrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"cartSection\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={item.image} alt=\"\" className=\"itemImg\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"itemNumber\">Product ID: { item.product }</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{item.name}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"prodTotal cartSection\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Price: ${item.price}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"cartSection removeWrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"remove\" onClick={() => removeFromCartHandler(item.product)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" className=\"remove\">x</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</ul>\r\n\t\t\t\t<div class=\"subtotal cf\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li class=\"totalRow final\">\r\n\t\t\t\t\t\t\t<span class=\"label\">Total ( {cartItems.length} item(s) )</span>\r\n\t\t\t\t\t\t\t<span class=\"value\">${cartItems.reduce((a, b) => a + b.price, 0)}</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  \t)\r\n}\r\n\r\nexport default CartScreen;\r\n"]},"metadata":{},"sourceType":"module"}